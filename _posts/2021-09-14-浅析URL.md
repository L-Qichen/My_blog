layout: post
title: "浅析 URL"
date: 2021-09-14 17:05:23
categories: URL

# 浅析 URL
本章内容有：
1. URL 包含哪几部分，每部分分别有什么作用
2. DNS 的作用是什么，nslookup 命令怎么用
3. IP 的作用是什么，ping 命令怎么用
4. 域名是什么，分别哪几类域名

## URL
URL：全称为 Uniform Resource Locator（统一资源定位服务）。由协议 + 域名 / IP + 端口号 + 路径 + 查询字符串 + 锚点 6个部分组成。
* 协议（protocol）有很多：TCP， IP， HTTP 等。协议主要负责约定计算机之间通讯交流的格式。以HTTP为例，HTTP协议规定了浏览器发送请求的格式和服务器响应的格式。前端主要接触的格式有两个，
HTTP和HTTPS。其中HTTP默认端口为 80；HTTPS默认端口为 443。
* 域名/IP：IP（internet protocol）主要约定了两件事：
    1. 如何定位一台设备
    2. 如何封装数据报文，以跟其他设备交流
  而域名实际上就是IP的别称，它们通过DNS对应起来。
* 端口：一台机器可以提供多个服务。而每一个服务有一个号码，这个号码就是端口号（port）。端口有几个基本规则：
    1. 0 - 1023 号端口是留给系统使用的
    2. 只有拥有管理员权限才能使用这1024个端口
    3. 其他端口可以给普通用户使用
    4. 一个端口如果被占用，就只能换一个端口使用
    5. 一台机器有 65535 个端口
当不确定某一服务需要使用什么端口时，可以通过查询TCP端口找到对应端口。
* 路径：使用路径可以请求网站的不同页面
* 查询字符串：查询参数可以使同一页面显示不同的内容
* 锚点：可以访问同一内容的不同位置

## DNS
DNS 全称为 Domain Name System。它的主要作用就是把域名和IP对应起来。所以实际上当用户在浏览器输入一个域名后，浏览器会向通讯公司（例如电信 / 联通）提供的 DNS 服务器询问该域名
（例如 www.baidu.com) 所对应的IP。然后浏览器再向该IP的80 / 443端口发送请求。
注意：
  1. 一个域名可以对应不同IP（均衡负载）
  2. 一个IP可以对应不同域名（共享主机）
nslookup命令：查询DNS的记录，查看域名解析是否正常，在网络故障的时候用来诊断网络问题。`nslookup domain[dns-server]`。例如`nslookup www.baidu.com`

## IP
IP（internet protocol）主要约定了两件事：
    1. 如何定位一台设备
    2. 如何封装数据报文，以跟其他设备交流
 特殊的IP：
   * 127.0.0.1 表示自己
   * localhost 通过 hosts 指定为自己
   * 0.0.0.0 不表示任何设备
ping命令：查看域名的IP。`ping domain[dns-server]`。例如`ping www.baidu.com`

## 域名
域名的分类：
* com -- 顶级域名
* baidu.com -- 二级域名，俗称一级域名（因为一般顶级域名不考虑）
* www.baidu.com -- 三级域名，俗称二级域名
后两个是父子关系，但是他们也是不同的两个域名，可以被不同的公司拥有。
